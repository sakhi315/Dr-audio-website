<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. Audio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
      Dr. Audio
    </header>
    <nav>
        <a href="index.html">Home</a>
        <a href="podcast.html">Podcast</a>
        <a href="blog.html">Blog</a>
        <a href="speakers.html">Speakers</a>
        <a href="resources.html">Resources</a>
        <a href="contact.html">Contact</a>
        <a href="research.html">Research & Background</a> <!-- NEW TAB -->
    </nav>    

    <section class="hero">
    <div class="hero-content">
        <div class="hero-text">
            <h1>Welcome to Dr. Audio</h1>
            <p>Join Dr. Sean Young and his children, Melody and Maverick, as they interview high-achieving individuals 
               on the <strong>Young and Hungry Podcast</strong>. Get expert insights to help parents, teachers, and students 
               succeed in education and beyond.</p>
            <a href="podcast.html" class="cta-button">Listen to the Podcast</a>
        </div>
        <div class="hero-image">
            <img src="dr-young.jpg" alt="Dr. Sean Young">
        </div>
    </div>
</section>

    <!-- About Us Section -->
<section class="about-us">
    <div class="about-content">
        <h2>About Us</h2>
        <p>Dr. Sean Young and his children, Melody and Maverick, host the <strong>Young and Hungry Podcast</strong>, 
           where they interview high-achieving individuals. Our mission is to empower parents and teachers with insights 
           to help children succeed in their chosen fields.</p>
    </div>
</section>

    <section class="content">
        <h2>What is Dr. Audio?</h2>
        <p>Helping teachers and parents support children's learning and motivation through insightful podcasts and engaging discussions.</p>
        <button id="learnMore">Learn More</button>
    </section>
    
    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>About Dr. Audio</h2>
            <p>Dr. Audio is an initiative aimed at providing parents and teachers with the necessary tools to encourage children’s learning through audio-based resources, interactive discussions, and expert insights.</p>
        </div>
    </div>
    
    <div class="container">
        <div class="grid">
            <div class="card">
                <h3>Podcast</h3>
                <p>Listen to expert discussions on education and motivation.</p>
            </div>
            <div class="card">
                <h3>Blog</h3>
                <p>Read insights from parents and teachers.</p>
            </div>
            <div class="card">
                <h3>Live Speakers</h3>
                <p>Engage with guest educators and specialists.</p>
            </div>
        </div>
    </div>

<!-- Newsletter Signup Modal -->
<div id="newsletter-modal" class="modal">
    <div class="modal-content">
        <span id="close-modal" class="close">&times;</span>
        <h2>Join Our Newsletter</h2>
        <p>Stay updated with our latest podcasts, blogs, and events!</p>
        <form id="newsletter-form">
            <input type="email" id="newsletter-email" placeholder="Enter your email" required>
            <button type="submit">Subscribe</button>
        </form>
    </div>
</div>

<section class="cta-section">
    <h2>Stay Updated</h2>
    <p>Subscribe to our newsletter and never miss an episode!</p>
    <form id="cta-newsletter-form">
        <input type="email" id="cta-newsletter-email" placeholder="Enter your email" required>
        <button type="submit">Subscribe</button>
    </form>
</section>

<!-- Footer -->
<footer>
    &copy; 2025 Dr. Audio. All rights reserved.
</footer>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const modal = document.getElementById("newsletter-modal");
        const closeModal = document.getElementById("close-modal"); // "X" button
        const navLinks = document.querySelectorAll("nav a"); // All navigation links
        const newsletterForm = document.getElementById("newsletter-form");
        let nextPage = ""; // Store the page user clicks

        // Check if the user has already subscribed
        let hasSubscribed = localStorage.getItem("subscribed");

        // Function to open the modal and store the clicked page link
        function openModal(event) {
            event.preventDefault(); // Prevent immediate navigation
            nextPage = this.href; // Store the clicked link

            // If the user has already signed up OR is clicking "Home", go directly to the page
            if (hasSubscribed || nextPage.includes("index.html")) {
                window.location.href = nextPage;
                return;
            }

            // Otherwise, show the newsletter signup modal
            modal.style.display = "block";
        }

        // Attach event listener to all nav links (except Home)
        navLinks.forEach(link => {
            if (!link.href.includes("index.html")) {
                link.addEventListener("click", openModal);
            }
        });

        // ✅ Ensure "X" button closes the modal properly
        closeModal.addEventListener("click", function () {
            modal.style.display = "none"; // Hide the modal
        });

        // ✅ Ensure clicking outside the modal closes it
        window.addEventListener("click", function (event) {
            if (event.target === modal) {
                modal.style.display = "none";
            }
        });

        // Handle newsletter form submission & redirect
        newsletterForm.addEventListener("submit", function (event) {
            event.preventDefault();
            let email = document.getElementById("newsletter-email").value;

            // Store in localStorage that the user has subscribed
            localStorage.setItem("subscribed", "true");
            hasSubscribed = "true"; // Update the variable immediately

            alert("Thank you for subscribing, " + email + "!");

            // Close modal after submission
            modal.style.display = "none";

            // Redirect user to the original page
            if (nextPage) {
                window.location.href = nextPage;
            }
        });

        // ✅ Ensure the CTA Newsletter Form in the Footer Works
        const ctaForm = document.getElementById("cta-newsletter-form");
        if (ctaForm) {
            ctaForm.addEventListener("submit", function(event) {
                event.preventDefault();
                let email = document.getElementById("cta-newsletter-email").value;
                alert("Thank you for subscribing, " + email + "!");
            });
        }

        // ✅ Keep "Learn More" Modal Working
        const learnMoreBtn = document.getElementById("learnMore");
        const learnMoreModal = document.getElementById("modal");
        const learnMoreClose = document.querySelector(".close");

        if (learnMoreBtn && learnMoreModal && learnMoreClose) {
            learnMoreBtn.addEventListener("click", function() {
                learnMoreModal.style.display = "block";
            });

            learnMoreClose.addEventListener("click", function() {
                learnMoreModal.style.display = "none";
            });
        }
    });
</script>


</body>

</html>
